---

name: splunk-full
templates:
  ctl.sh.erb:                            bin/ctl.sh
  system_inputs.conf.erb:                config/system_local/inputs.conf
  system_user-seed.conf.erb:             config/system_local/user-seed.conf
  system_indexes.conf.erb:               config/system_local/indexes.conf
  system_web.conf.erb:                   config/system_local/web.conf
  system_alert_actions.conf.erb:         config/system_local/alert_actions.conf
  apps_splunk_httpinput_inputs.conf.erb: config/apps_splunk_httpinput_local/inputs.conf
  splunk-launch.conf.erb:                config/splunk-launch.conf
  License.xml.lic.erb:                   config/License.xml.lic
  mycerts_privkey.pem.erb:               config/mycerts/privkey.pem
  mycerts_cert.pem.erb:                  config/mycerts/cert.pem
  sample_cf_ops_dashboard.xml.erb:       config/Splunk_SA_CloudFoundry/local/sample_cf_ops_dashboard.xml
  savedsearches.conf.erb:                config/Splunk_SA_CloudFoundry/local/savedsearches.conf
  website_monitoring/app.conf:           config/website_monitoring_local/app.conf
  website_monitoring/inputs.conf.erb:    config/website_monitoring_local/inputs.conf
  website_monitoring/website_monitoring.conf:    config/website_monitoring_local/website_monitoring.conf
packages:
- splunk

properties:
  cf_splunk:
    admin_user:
      default: admin
      description: Admin user name
    admin_pass:
      default: changeme
      description: Admin password
    http_port:
      default: 443
      description: HTTP listen port
    enable_https:
      default: false
      description: activate HTTPS for SplunkWeb
    tls_key:
      default: ''
      description: Private key TLS
    tls_cert:
      default: ''
      description: Certificate TLS
    license:
      default: ''
      description: Splunk License
    mailserver:
      default: 'localhost:25'
      description: Email Server to send notifications  <host>[:<port>]
    mail_user:
      default: ''
      description: Email user
    mail_password:
      default: ''
      description: Email password
    use_ssl:
      default: 0
      description: Email SSL
    use_tls:
      default: 0
      description: Email server use TLS
    emails_to:
      default: ''
      descriptions: Alerts sent emails to list(comma separated list)
    monitoring.websites:
      default: []
      descriptions: Sites to monitor
      example:
      - {name: 'My Site', interval: '15m', url: 'http://example.com'}

